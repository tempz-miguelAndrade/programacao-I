<meta charset="utf-8">
<script>
	/*## Problema 2: Gestor de Notas e Médias de Alunos

Contexto: Um professor precisa de um sistema para registrar as notas dos seus 5 alunos em 4 bimestres, calcular médias e identificar alunos com desempenho baixo.

### Requisitos:
1. Função para validar notas: Valide se a nota está entre 0 e 10 (use while).
2. Função para adicionar notas: Insira as 4 notas de cada aluno usando for.
3. Função para calcular média: Use for para somar as notas e calcular a média.
4. Função para classificar desempenho: Use if...else aninhado:
	 - Média >= 9: Excelente
	 - Média >= 7: Bom
	 - Média >= 5: Regular
	 - Média < 5: Insuficiente
5. Função para gerar relatório: Mostre o nome, notas, média e classificação de cada aluno.

Dados Iniciais:

```javascript
let alunos = ["João", "Maria", "Pedro", "Ana", "Carlos"];
let notas = [
	// cada elemento é um array com 4 notas, ex: [8, 7.5, 9, 10]
];


> **DESAFIO:** Implemente um sistema completo onde o professor possa cadastrar notas, remover um aluno se necessário, visualizar relatórios e tudo validado adequadamente.
## Problema 3: Sistema de Estoque de Produtos com Preço
*/

	// dados iniciais
	let alunos = ["João", "Maria", "Pedro", "Ana", "Carlos"];
	let batata = 0
	let notas = [];

	function telaInicial() {
		let perguntaIncialTxt = prompt(`O que deseja realizar?\n\n1. Remover aluno\n2. Visualizar relatórios\n3. Aplicar as notas`).toLowerCase().trim();
		let perguntaIncialNum = Number(perguntaIncialTxt);

		if (perguntaIncialNum == 1 || perguntaIncialTxt == `remover aluno` || perguntaIncialTxt == `remover`) {
			return removedorAluno();

		} else if (perguntaIncialNum == 2) {
			return saida(alunos, notas);

		} else if (perguntaIncialNum == 3) {
			return notas = adicionarNotas(alunos);

		} else {
			batata = 1;
		}
	}

	function removedorAluno() {
		let resposta = String(removerAluno).toLowerCase().trim();
		let removerAluno = prompt(`Qual aluno deseja remover?\n${alunos[0].toLowerCase().trim()}\n${alunos[1].toLowerCase().trim()};\n${alunos[2].toLowerCase().trim()};\n${alunos[3].toLowerCase().trim()};\n${alunos[4].toLowerCase().trim()}.`);
		if (resposta == `joao` || resposta == `joão`) {
			alunos = alunos.splice(0, 1);
			return telaInicial();
		} else if (resposta == 2) {
			alunos.splice(1, 1);
			return telaInicial();
		} else if (resposta == 3) {
			alunos.splice(2, 1);
			return telaInicial();
		} else if (resposta == 4) {
			alunos.splice(3, 1);
			return telaInicial();
		} else if (resposta == 5) {
			alunos.splice(4, 1);
			return telaInicial();
		} else {
			return telaInicial();
		}
	}

	function validador(promptTxt) {
		let entrada = prompt(promptTxt);
		let nota = Number(entrada);

		// diferenciação para o prompt dar certo caso for vazio
		while (isNaN(nota) || nota < 0 || nota > 10 || entrada == ``) {

			// explicando cada erro do usuário
			if (isNaN(nota)) {
				alert(`ERRO: A nota deve ser número!`);
			} else if (nota < 0 || nota > 10) {
				alert(`ERRO: A nota deve estar entre 0 e 10!`);
			} else if (entrada == ``) {
				alert(`ERRO: Digite a nota!`);
			}
			entrada = prompt(promptTxt);
			nota = Number(entrada);
		}

		return nota;
	}


	function adicionarNotas(alunos) {
		alert(`Adicione as notas`);
		let notas = [];

		// para cada aluno
		for (let i = 0; i < alunos.length; i++) {
			let notasAluno = [];

			// Adiciona 4 notas para cada aluno
			for (let j = 0; j < 4; j++) {

				// adiciona a nota validada ao array de notas do aluno
				let pergunta = validador(`Digite a nota ${j + 1} do aluno ${alunos[i]}:`);
				notasAluno.push(pergunta);
			}

			notas.push(notasAluno);
		}

		return notas;
	}


	function calcularMedia(notasAluno) {

		//calcula a média das notas do aluno
		let soma = 0;
		for (let i = 0; i < notasAluno.length; i++) {
			soma += notasAluno[i];
		}
		let calculo = soma / notasAluno.length;
		return calculo;
	}


	function desempenho(media) {

		// classifica o desempenho com base na média
		if (media >= 9) {
			return `Excelente`;
		} else if (media >= 8) {
			return `Bom`;
		} else if (media >= 6) {
			return `Na média`;
		} else {
			return `Abaixo da média`;
		}
	}


	function saida(alunos, notas) {

		// Aplica a média e a classificação para cada aluno
		for (let i = 0; i < alunos.length; i++) {

			// informações do relatório
			let media = calcularMedia(notas[i]);
			let classificacao = desempenho(media);

			// saída final
			alert(`Aluno: ${alunos[i]}\nNotas: ${notas[i].join(", ")}\nMédia: ${media.toFixed(2)}\nClassificação: ${classificacao}`);
		}
	}

	// chamando a saída
	telaInicial();
</script>
